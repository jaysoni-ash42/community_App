[{"/home/jay/React_app/Community_app/src/index.js":"1","/home/jay/React_app/Community_app/src/component/App.js":"2","/home/jay/React_app/Community_app/src/reportWebVitals.js":"3","/home/jay/React_app/Community_app/src/component/Nav.js":"4","/home/jay/React_app/Community_app/src/component/Home.js":"5","/home/jay/React_app/Community_app/src/component/Users.js":"6","/home/jay/React_app/Community_app/src/firebaseConfig/firebase.js":"7","/home/jay/React_app/Community_app/src/component/post.js":"8","/home/jay/React_app/Community_app/src/component/Uposts.js":"9","/home/jay/React_app/Community_app/src/component/Search.js":"10","/home/jay/React_app/Community_app/src/component/userContext.js":"11"},{"size":511,"mtime":1611753860080,"results":"12","hashOfConfig":"13"},{"size":1546,"mtime":1611840259912,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1609574935995,"results":"15","hashOfConfig":"13"},{"size":5445,"mtime":1611840257076,"results":"16","hashOfConfig":"13"},{"size":1153,"mtime":1611754144454,"results":"17","hashOfConfig":"13"},{"size":5973,"mtime":1611815408694,"results":"18","hashOfConfig":"13"},{"size":605,"mtime":1611730951970,"results":"19","hashOfConfig":"13"},{"size":6128,"mtime":1611833974479,"results":"20","hashOfConfig":"13"},{"size":3599,"mtime":1611811059572,"results":"21","hashOfConfig":"13"},{"size":1814,"mtime":1611833666641,"results":"22","hashOfConfig":"13"},{"size":1029,"mtime":1611840157361,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"3bdpo2",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"26"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/jay/React_app/Community_app/src/index.js",[],["50","51"],"/home/jay/React_app/Community_app/src/component/App.js",[],"/home/jay/React_app/Community_app/src/reportWebVitals.js",[],"/home/jay/React_app/Community_app/src/component/Nav.js",[],"/home/jay/React_app/Community_app/src/component/Home.js",[],"/home/jay/React_app/Community_app/src/component/Users.js",["52"],"import React, { useState, useEffect, useContext } from 'react';\nimport { auth, storage } from \"../firebaseConfig/firebase\";\nimport \"./users.css\";\nimport Axios from \"axios\";\nimport Uposts from \"./Uposts\";\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Button from \"@material-ui/core/Button\"\nimport Modal from \"@material-ui/core/Modal\"\nimport { PostAdd } from \"@material-ui/icons\"\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { userContext } from \"./userContext\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    justifyContent: 'space-evenly',\n    marginTop: 10\n  },\n  gridList: {\n    padding: theme.spacing(1)\n  },\n}));\n\n\nfunction Users() {\n  const { user, setUser } = useContext(userContext);\n  const classes = useStyles();\n  const [post, setPost] = useState([]);\n  const [openUpload, setUpload] = useState(false);\n  const [caption, setCaption] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n  const [value, setValue] = useState(false);\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n\n    }\n  };\n  useEffect(() => {\n    if (user === null) {\n      setTimeout(() => {\n        Axios.get(\"http://localhost:9000/post/\" + auth.currentUser.uid).then((post) => {\n          setPost(post.data);\n        }).catch((err) => {\n          alert(err.message);\n        })\n      }, 6000)\n    }\n    else {\n      Axios.get(\"http://localhost:9000/post/\" + user.uid).then((post) => {\n        setPost(post.data);\n      }).catch((err) => {\n        alert(err.message + \" something went wrong check network connection\");\n      })\n    }\n  }, [value, user])\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUser(user);\n      }\n      else {\n        setUser(null);\n      }\n    })\n  }, [user]);\n  const handleUpload = (e) => {\n    e.preventDefault();\n    console.log(Object.keys(caption).length + \" \" + Object.keys(image).length);\n    if (Object.keys(caption).length <= 0 || Object.keys(image).length < 0) {\n      alert(\"need to select the data before upload\")\n      return;\n    }\n    const uploadtask = storage.ref(`images/${image.name}`).put(image);\n    uploadtask.on(\n      \"state_changed\",\n      (snapshot) => {\n        var progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100)\n        setProgress(progress);\n      },\n      (error) => {\n        console.log(error.message);\n        alert(error.message);\n        setUpload(false);\n      },\n      () => {\n        storage.ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            Axios.post(\"http://localhost:9000/post\", {\n              userid: \"\" + auth.currentUser.uid,\n              userimg: auth.currentUser.photoURL,\n              img: url,\n              post: caption,\n              username: auth.currentUser.email\n            }).then((response) => {\n              console.log(response);\n              setProgress(0);\n              setCaption(\"\");\n              setImage(\"\");\n              setValue(!value);\n              setUpload(false);\n            }).catch((err) => {\n              alert(err.message);\n              setUpload(false);\n              setProgress(0);\n              setCaption(\"\");\n              setImage(\"\");\n            });\n          }).catch((err) => {\n            alert(err.message);\n            setUpload(false);\n          })\n      }\n    )\n\n  }\n\n  const openupload = (e) => {\n    e.preventDefault();\n    setUpload(true);\n  }\n  const closeUpload = (e) => {\n    e.preventDefault();\n    setUpload(false);\n  }\n  return (\n    <div className=\"user\">\n      <Modal\n        disableBackdropClick={true}\n        open={openUpload}\n        onClose={closeUpload}\n        className=\"Modal_state\"\n      >\n        <div className=\"Modal\" >\n          <div className=\"Imageupload\">\n            <h1 style={{ textAlign: \"center\", fontFamily: \"monospace\", border: \"1px solid lightgray\", padding: 10 }}><strong>Upload a Post</strong></h1>\n            <LinearProgress style={{ marginTop: 10 }} variant=\"determinate\" value={progress} />\n            <input type=\"text\" className=\"Imageupload_progress\" placeholder=\"Enter a caption....\" onChange={(e) => setCaption(e.target.value)} />\n            <input type=\"file\" className=\"Imageupload_progress\" onChange={handleChange} />\n            <div style={{ display: 'flex', justifyContent: 'space-evenly', padding: 10 }}><center><Button style={{ backgroundColor: \"lightgray\", margin: 10 }} onClick={handleUpload} >Upload</Button><Button style={{ backgroundColor: \"lightgray\", margin: 10 }} onClick={closeUpload} >close</Button></center></div>\n            <p className=\"post\"># POst a creative post to let the world Know about your work</p>\n          </div>\n        </div>\n      </Modal>\n      {\n        user ?\n          <div className=\"user_header\">\n            <img className=\"profile_image\" alt={user.photoURL} src={user.photoURL} />\n            <h1 style={{ fontFamily: \"monospace\" }} >{user.email.toUpperCase()}</h1>\n            <IconButton style={{ width: \"auto\", height: 20, marginTop: 20 }} onClick={openupload}><PostAdd style={{ color: \"orange\" }} /><h6 tyle={{ fontFamily: \"monospace\" }}>Add post</h6></IconButton>\n          </div> : null\n      }\n      <h1 className=\"post\"> Posts </h1>\n      <div className=\"posts_view\">\n        <Grid container spacing={1} className={classes.root}>\n          {\n            post.length > 0 ? post.map(post => (\n              <Grid item xs={\"auto\"} className={classes.gridList} key={post._id} >\n                <Uposts comment={post.comments} like={post.like} img={post.img} post={post.post} key={post._id} />\n              </Grid>\n            )) : <h1 style={{ paddingBottom: 10 }}>Add a post+ </h1>\n          }\n        </Grid>\n      </div>\n    </div>\n  );\n}\n\nexport default Users;\n","/home/jay/React_app/Community_app/src/firebaseConfig/firebase.js",[],"/home/jay/React_app/Community_app/src/component/post.js",["53","54"],"import React, { useState, useEffect, useContext } from 'react'\nimport \"./post.css\"\nimport { auth } from \"../firebaseConfig/firebase\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { FavoriteBorder, CommentOutlined } from \"@material-ui/icons\";\nimport Axios from \"axios\";\nimport DeleteForever from \"@material-ui/icons/DeleteForever\";\nimport { userContext } from \"./userContext\";\nimport ReactPlayer from 'react-player';\n\nfunction Post({ postid, img, username, comment, post, userurl, like }) {\n    const { user, setUser } = useContext(userContext);\n    const [comments, setComment] = useState(\"\");\n    const [commentapi, setCommentapi] = useState([]);\n    const [state, setState] = useState(false);\n    const [iconcolor, setColor] = useState(\"\");\n    const [liked, setLike] = useState(false);\n    const [Likes, setLikes] = useState(Object.keys(like).length);\n\n    function CheckString(url) {\n        const str = url.split(\"?\");\n        const final = str[0].split(\".\");\n        var arr = [\"jpeg\", \"jpg\", \"gif\", \"png\"];\n        if (arr.includes(final[5])) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    function handlecomment(e, commentId) {\n        e.preventDefault();\n        Axios.delete(\"http://localhost:9000/post/\" + postid + \"/comments/\" + commentId).then((response) => {\n            if (response.status === 200) {\n                setState(true);\n            }\n\n        }).catch((err) => {\n            alert(err.message);\n        })\n    }\n\n    const addcomment = async (e) => {\n        e.preventDefault();\n        try {\n            var response = await Axios.post(\"http://localhost:9000/post/\" + postid + \"/comments\", {\n                userimg: auth.currentUser.photoURL,\n                userid: auth.currentUser.uid,\n                text: comments,\n                username: auth.currentUser.email\n            });\n            if (response.status === 200) {\n                setComment(\"\");\n                setState(true);\n            }\n        } catch (err) {\n            alert(err.message);\n        }\n    }\n    useEffect(() => {\n        setCommentapi(JSON.parse(JSON.stringify(comment)));\n        if (state === true) {\n            getComment();\n            setState(false);\n        }\n    }, [state])\n    async function getComment() {\n        try {\n            var response = await Axios.get(\"http://localhost:9000/post/\" + postid + \"/comments\");\n            if (response.status === 200) {\n                setCommentapi(response.data);\n            }\n        } catch (err) {\n            alert(err.message);\n        }\n    }\n    const handleClick = (e) => {\n        e.preventDefault();\n        Axios.post(\"http://localhost:9000/post/\" + postid + \"/like\", {\n            id: \"\" + auth.currentUser.uid\n        }).then((response) => {\n            if (response.status === 200) {\n                setLikes(Likes + 1);\n                setColor('orange');\n                setLike(true);\n            }\n        }).catch((err) => {\n            alert(err.message);\n        })\n    }\n    return (\n        <div className=\"Post\">\n            <div className=\"post_header\">\n                <Avatar\n                    className=\"post_avatar\"\n                    alt={userurl}\n                    src={userurl}\n\n                />\n                <h3 className=\"post_text\">{username.toUpperCase()}</h3>\n            </div>\n            {\n                CheckString(img) ? <img className=\"post_image\" src={img} alt={img} /> :\n                    <ReactPlayer url={img} controls={true} loop={true} playing={true} width=\"100%\" height=\"60vh\" />\n            }\n            {\n                user ? <div style={{ display: \"flex\" }}>\n                    {\n                        auth.currentUser ? liked ? null : like.map(docs => (\n                            docs.id === auth.currentUser.uid ? setLike(true) : null\n                        )) : null\n                    }\n                    <IconButton onClick={auth.currentUser ? !liked ? handleClick : null : null}><FavoriteBorder style={{ color: liked ? \"orange\" : `${iconcolor}` }} /></IconButton>\n                    <h6 style={{ fontFamily: \"monospace\" }}>{Likes}</h6>\n                    <CommentOutlined style={{ color: \"orange\", marginTop: 5, marginLeft: 10 }} />\n                    <h6 style={{ fontFamily: \"monospace\", marginLeft: 10 }}>{Object.keys(commentapi).length}</h6>\n                </div> : null\n            }\n            <h3 className=\"post_name\"><strong>{post.toUpperCase()}</strong></h3>\n            <div className=\"comments\">\n                {\n                    commentapi ? commentapi.map(docs => (\n                        <div className=\"post_comments\" key={docs._id}>\n                            <div style={{ display: 'flex', width: 'auto' }}>\n                                <Avatar style={{ height: 25, width: 25, marginRight: 10 }} alt={docs.userimg} src={docs.userimg} />\n                                <h5>{docs.username.toUpperCase()}</h5>\n                                {auth.currentUser ? docs.userid === auth.currentUser.uid ? <IconButton style={{ color: \"red\", padding: 0, marginLeft: 10 }} onClick={(e) => { handlecomment(e, docs._id) }}><DeleteForever style={{ height: 18, width: 18 }} /></IconButton> : null : null}\n                            </div>\n                            <h5 className=\"comments_text\">{docs.text}</h5>\n                        </div>\n                    )) : <h4>No Comments</h4>\n                }\n            </div>\n            {\n                user != null ? <form className=\"comment_box\" onSubmit={addcomment}>\n                    <input className=\"comment_input\" type=\"text\" placeholder=\" Add comment here\" value={comments} onChange={(e) => { setComment(e.target.value) }} />\n                    <Button className=\"add_comment\" disabled={!comments} >Add</Button>\n                </form> : <h6 style={{ color: 'Orangered', textAlign: \"center\", paddingBottom: 5, fontFamily: \"monospace\" }}>Login to comment!!</h6>\n            }\n        </div>\n    )\n}\n\nexport default Post;\n","/home/jay/React_app/Community_app/src/component/Uposts.js",[],"/home/jay/React_app/Community_app/src/component/Search.js",["55","56"],"import React, { useContext } from 'react'\nimport { Searchpost, Searchuser } from \"./userContext\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Post from \"./post\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        justifyContent: 'space-evenly',\n        marginTop: 10\n    },\n    gridList: {\n        padding: theme.spacing(1)\n    },\n}));\n\nfunction Search() {\n    const classes = useStyles();\n    const { searchuser, setSearchuser } = useContext(Searchuser)\n    const { searchpost, setSearchpost } = useContext(Searchpost);\n    return (\n        <div className=\"search\">\n            {\n                Object.keys(searchuser).length > 0 ? <div className=\"user_header\">\n                    <img className=\"profile_image\" alt={searchuser[0].userimg} src={searchuser[0].userimg} />\n                    <h1 style={{ fontFamily: \"monospace\" }} >{searchuser[0].username.toUpperCase()}</h1>\n                </div> : <h6>Search the USer</h6>\n            }\n            <h1 className=\"post\"> Posts </h1>\n            <div className=\"posts_view\">\n                <Grid container spacing={1} className={classes.root}>\n                    {\n                        searchpost.length > 0 ? searchpost.map(post => (\n                            <Grid item xs={\"auto\"} className={classes.gridList} key={post._id} >\n                                <Post postid={post._id} img={post.img} username={post.username} post={post.post} comment={post.comments} userurl={post.userimg} like={post.like} key={post._id} />\n                            </Grid>\n                        )) : <h1 style={{ paddingBottom: 10 }}>No Post to show</h1>\n                    }\n                </Grid>\n            </div>\n        </div>\n\n    )\n}\n\nexport default Search\n","/home/jay/React_app/Community_app/src/component/userContext.js",["57","58"],{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","severity":1,"message":"64","line":68,"column":6,"nodeType":"65","endLine":68,"endColumn":12,"suggestions":"66"},{"ruleId":"67","severity":1,"message":"68","line":14,"column":19,"nodeType":"69","messageId":"70","endLine":14,"endColumn":26},{"ruleId":"63","severity":1,"message":"71","line":69,"column":8,"nodeType":"65","endLine":69,"endColumn":15,"suggestions":"72"},{"ruleId":"67","severity":1,"message":"73","line":20,"column":25,"nodeType":"69","messageId":"70","endLine":20,"endColumn":38},{"ruleId":"67","severity":1,"message":"74","line":21,"column":25,"nodeType":"69","messageId":"70","endLine":21,"endColumn":38},{"ruleId":"67","severity":1,"message":"75","line":1,"column":35,"nodeType":"69","messageId":"70","endLine":1,"endColumn":44},{"ruleId":"76","severity":1,"message":"77","line":30,"column":28,"nodeType":"78","messageId":"79","endLine":30,"endColumn":29},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setUser'. Either include it or remove the dependency array.","ArrayExpression",["82"],"no-unused-vars","'setUser' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'comment' and 'getComment'. Either include them or remove the dependency array. If 'setCommentapi' needs the current value of 'comment', you can also switch to useReducer instead of useState and read 'comment' in the reducer.",["83"],"'setSearchuser' is assigned a value but never used.","'setSearchpost' is assigned a value but never used.","'useEffect' is defined but never used.","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","no-global-assign","no-unsafe-negation",{"desc":"84","fix":"85"},{"desc":"86","fix":"87"},"Update the dependencies array to be: [setUser, user]",{"range":"88","text":"89"},"Update the dependencies array to be: [comment, getComment, state]",{"range":"90","text":"91"},[1964,1970],"[setUser, user]",[2355,2362],"[comment, getComment, state]"]